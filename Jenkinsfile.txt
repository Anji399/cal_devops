pipeline {
  agent any
  stages 
    {
    stage('Clean') {
      steps {
        bat 'mvn clean'
      }
    }
    stage('Compile') {
      steps {
        bat 'mvn compile'
      }
    }
    stage('Test') {
      steps {
        bat 'mvn test'
      }
    }
    stage('Install') {
      steps {
        bat 'mvn install'
      }
    }
	stage('Deploy') {
	  steps {
		bat 'mvn deploy'
	  }
	}
	stage('nexus') {
	  steps {
		nexusArtifactUploader artifacts: [[artifactId: 'devop_calculator', classifier: '', file: 'target/devop_calculator-1.1-SNAPSHOT.jar', type: 'jar']], credentialsId: 'nexus', groupId: 'calculator', nexusUrl: 'localhost:8081', nexusVersion: 'nexus3', protocol: 'http', repository: 'cal_dev', version: '1.1-SNAPSHOT'
	  }
	}
  }
}
